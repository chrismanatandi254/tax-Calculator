<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://wingubox.com/landing-pages/lp-0001/js/jquery.js"></script>
    <link rel="stylesheet"
        href="https://wingubox.com/landing-pages/lp-0001/assets/css/font-awesome/css/font-awesome.min.css" />
    <link rel="stylesheet" href="https://wingubox.com/landing-pages/lp-0001/assets/css/bootstrap.css">
    <link rel="stylesheet" href="https://wingubox.com/landing-pages/lp-0001/lib/linea/styles.css" />
    <link rel="stylesheet"
        href="https://wingubox.com/landing-pages/lp-0001/lib/Magnific-Popup/dist/magnific-popup.css" />
    <link href="https://wingubox.com/landing-pages/lp-0001/css/font.css" rel="stylesheet">
    <link href="https://wingubox.com/landing-pages/lp-0001/css/style.css" rel="stylesheet">
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-90119341-1"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <title>Payslip</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
            padding: 20px;
        }

        h3 {
            color: #0075FF;
            margin-bottom: 20px;
        }

        .main-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 20px;
            margin-top: 20px;
        }

        .calculator-container {
            background-color: #e6f4f7;
            border: 1px solid #b3d9de;
            flex: 1;
            max-width: 30%;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .table-container {
            background-color: #e6f4f7;
            border: 1px solid #b3d9de;
            flex: 1;
            max-width: 70%;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }

        th,
        td {
            padding: 12px 15px;
            text-align: left;
            border: 1px solid #d0e4f7;
        }

        th {
            background-color: #e8f3fc;
            font-weight: bold;
            font-size: 16px;
            color: #0075FF;
        }

        td {
            font-size: 15px;
            color: black;
        }

        .input-field {
            margin-bottom: 15px;
        }

        .input-field label {
            display: block;
            font-size: 14px;
            margin-bottom: 5px;
            font-weight: bold;
            color: #333;
        }

        .input-field input[type="text"],
        .input-field select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 14px;
            background-color: #f9f9f9;
            transition: border-color 0.3s;
        }

        .input-field input[type="text"]:focus,
        .input-field select:focus {
            border-color: #0075FF;
            background-color: #fff;
            outline: none;
        }

        .input-field input[type="checkbox"] {
            margin-right: 10px;
            margin-bottom: 0.1px;
        }

        .button {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: #0075FF;
            color: white;
            border: none;
            border-radius: 7px;
            font-size: 14px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .button:hover {
            background-color: #6ab0ff;
        }

        .result {
            margin-top: 20px;
            padding: 15px;
            border-radius: 4px;
            font-size: 14px;
            font-weight: bold;
            color: #333;
            background-color: #f8faff;
            padding: 20px;
            border: 1px solid #d0e4f7;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        @media (max-width: 768px) {
            .main-container {
                flex-direction: column;
            }

            .calculator-container,
            .table-container {
                max-width: 100%;
            }
        }

        @media (max-width: 480px) {
            .input-field label {
                font-size: 12px;
            }

            .button {
                font-size: 12px;
                padding: 12px;
            }

            .table-container table {
                font-size: 12px;
            }

            th,
            td {
                padding: 8px;
            }
        }

        .form-group,
        .input-field {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        input,
        select,
        button {
            width: 100%;
            padding: 8px;
            margin-top: 5px;
        }

        h2,
        h3 {
            text-align: center;
            color: #333;
        }

        .payslip-header {
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .payslip-container {
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
            font-family: Arial, sans-serif;
            border: 1px solid #ddd;
            padding: 20px;
            border-radius: 8px;
            background-color: #f9f9f9;
        }

        .payslip-container h2 {
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        .payslip-item {
            display: flex;
            justify-content: space-between;
            margin: 5px 0;
            padding: 5px 0;
            border-bottom: 1px dotted #ccc;
        }

        .payslip-item strong {
            font-weight: bold;
        }

        .payslip-signature {
            margin-top: 20px;
            text-align: center;
            font-style: italic;
        }

        .payslip-signature div {
            margin-top: 10px;
        }

        #actions {
            display: none;
            /* Hide buttons initially */
            margin-top: 20px;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }

        #result {
            border: 1px solid #ccc;
            padding: 20px;
            margin-top: 20px;
        }

        #actions button {
            padding: 10px 15px;
            font-size: 1em;
            cursor: pointer;
            border: 1px solid #007BFF;
            background-color: #007BFF;
            color: white;
            border-radius: 5px;
        }

        #actions button:hover {
            background-color: #0056b3;
        }

        .result {
            margin-top: 20px;
            font-weight: bold;
        }

        hr {
            border: 0;
            border-top: 1px solid #ddd;
            margin: 20px 0;
        }
    </style>
</head>

<body>
    <div class="main-container">
        <!-- Calculator -->
        <div class="calculator-container">
            <h3>Your Payroll Calculator</h3>
            <form id="payroll-calculator">
                <div class="input-field">
                    <label for="payroll_month"></label>
                    <input type="month" name="payroll_month" id="month" value="2025-01">
                </div>
                <div class="form-group">
                    <label for="name"></label>
                    <input type="text" id="name" placeholder="Enter your name">
                </div>
                <div class="form-group">
                    <label for="kra"></label>
                    <input type="text" id="kra" placeholder="Enter your KRA Pin No.">
                </div>
                <div class="form-group">
                    <label for="nssfNumber"></label>
                    <input type="text" id="nssfNumber" placeholder="Enter your NSSF No.">
                </div>
                <div class="form-group">
                    <label for="shif"></label>
                    <input type="text" id="shif" placeholder="Enter your SHIF No.">
                </div>
                <!-- Additional Fields -->
                <div class="input-field">
                    <label for="treat-salary-as"></label>
                    <select id="treat-salary-as" name="treat-salary-as" title="Treat Salary As">
                        <option value="">Select Treat Salary As</option>
                        <option value="Basic Pay" id="is-nan">Basic Pay</option>
                        <option value="Net Pay" id="is-net-pay">Net Pay</option>
                    </select>
                </div>
                <div class="input-field">
                    <label for="nssfType"></label>
                    <select id="nssfType" required>
                        <option value="tier1">Select NSSF Rates</option>
                        <option value="tier1">NSSF tier 1</option>
                        <option value="tier1and2">NSSF tier 1 & 2</option>
                        <option value="old">NSSF old Rates</option>
                        <option value="none">None</option>
                    </select>
                </div>
                <div class="input-field">
                    <label for="monthly-salary"></label>
                    <input type="text" class="  auto-numeric" id="monthly-salary" name="monthly-salary"
                        placeholder="Monthly Salary">
                </div>
                <div class="input-field">
                    <label for="deduct-nhif">
                        <input type="checkbox" id="deduct-nhif" name="deduct-nhif" checked> Deduct NHIF/SHIF
                    </label>
                </div>
                <div class="input-field">
                    <label for="deduct-housing-levy">
                        <input type="checkbox" id="deduct-housing-levy" name="deduct-housing-levy" checked> Deduct
                        Housing Levy
                    </label>
                </div>
                <div class="input-field">
                    <label for="round-off"></label>
                    <select id="round-off" name="round-off">
                        <option value="0.01">0.01</option>
                        <option value="0.10">0.10</option>
                        <option value="0.50">0.50</option>
                        <option value="1">1</option>
                    </select>
                </div>
                <button type="button" class="button" onclick="calculatePayroll()">Calculate</button>
            </form>
            <div id="result" class="result" style="display: none;"></div>
            <div id="actions">
                <button id="print-payslip" style="display: none;" onclick="printPayslip()">Print Payslip</button>
            </div>
        </div>
        <!-- Tax Rate Table -->
        <div class="table-container">
            <h3>Tax Rates</h3>
            <table>
                <thead>
                    <tr>
                        <th>Monthly Bands of Taxable Income (KES)</th>
                        <th>Tax Rate</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>0 &ndash; 24,000</td>
                        <td>10%</td>
                    </tr>
                    <tr>
                        <td>On the next 8,333</td>
                        <td>25%</td>
                    </tr>
                    <tr>
                        <td>On the next 467,667</td>
                        <td>30%</td>
                    </tr>
                    <tr>
                        <td>On the next 300,000</td>
                        <td>32.5%</td>
                    </tr>
                    <tr>
                        <td>On amounts over 800,000</td>
                        <td>35%</td>
                    </tr>
                    <tr>
                        <td colspan="2">Personal Relief: KES 2,400.00 per month</td>
                    </tr>
                    <tr>
                        <td colspan="2">Minimum Taxable Income: KES 24,001.00 per month</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <script>
        function calculatePayroll() {
            const salaryInput = document.getElementById("monthly-salary").value || "0";
            const salary = parseFloat(salaryInput.replace(/,/g, ""));
            const salaryTreatment = document.getElementById("treat-salary-as").value;
            const nssfType = document.getElementById("nssfType").value;
            const deductNhif = document.getElementById("deduct-nhif").checked;
            const deductHousing = document.getElementById("deduct-housing-levy").checked;
            const monthInput = document.getElementById("month").value;
            const name = document.getElementById("name").value;
            const kra = document.getElementById("kra").value;
            const nssfNumber = document.getElementById("nssfNumber").value;
            const shif = document.getElementById("shif").value;

            if (isNaN(salary) || salary <= 0) {
                alert("Please enter a valid salary.");
                return;
            }

            const personalRelief = 2400; // Constant value for personal relief

            function calculateIncomeTax(income) {
                let tax = 0;
                if (income > 24000) {
                    tax += 24000 * 0.1;
                    income -= 24000;
                } else {
                    return tax + income * 0.1;
                }
                if (income > 8333) {
                    tax += 8333 * 0.25;
                    income -= 8333;
                } else {
                    return tax + income * 0.25;
                }
                tax += income * 0.3;
                return tax;
            }

            function calculateDeductions(basicPay) {
                let nhif = deductNhif ? basicPay * 0.0275 : 0;
                let housingLevy = deductHousing ? basicPay * 0.015 : 0;
                let nssf = 0;

                if (nssfType === "tier1and2") {
                    nssf = basicPay <= 35999.0 ? basicPay * 0.06 : 2160;
                } else if (nssfType === "tier1") {
                    nssf = 420;
                }

                return { nhif, housingLevy, nssf };
            }

            let basicPay, netPay, taxablePay, incomeTax, paye, nhif, housingLevy, nssf;

            if (salaryTreatment === "Net Pay") {
                basicPay = salary;
                let iterations = 0;

                while (iterations < 20) {
                    const { nhif: nhifCalc, housingLevy: housingCalc, nssf: nssfCalc } = calculateDeductions(basicPay);
                    nhif = nhifCalc;
                    housingLevy = housingCalc;
                    nssf = nssfCalc;

                    taxablePay = basicPay - nhif - housingLevy - nssf;
                    incomeTax = calculateIncomeTax(taxablePay);

                    // Calculate PAYE
                    paye = Math.max(incomeTax - personalRelief, 0);

                    const calculatedNetPay = basicPay - nhif - housingLevy - nssf - paye;

                    if (Math.abs(calculatedNetPay - salary) < 0.01) break;

                    basicPay = salary + nhif + housingLevy + nssf + paye;
                    iterations++;
                }

                netPay = salary;
            } else if (salaryTreatment === "Basic Pay") {
                const { nhif: nhifCalc, housingLevy: housingCalc, nssf: nssfCalc } = calculateDeductions(salary);
                nhif = nhifCalc;
                housingLevy = housingCalc;
                nssf = nssfCalc;

                taxablePay = salary - nhif - housingLevy - nssf;
                incomeTax = calculateIncomeTax(taxablePay);

                // Calculate PAYE
                paye = Math.max(incomeTax - personalRelief, 0);

                netPay = taxablePay - paye;
                basicPay = salary;
            } else {
                alert("Please select how to treat the salary.");
                return;
            }
            // Additional calculations
            const shifRelief = nhif * 0.15;
            const housingRelief = housingLevy * 0.15;
            const totalDeductions = nhif + housingLevy + nssf;

            const resultDiv = document.getElementById("result");
            resultDiv.style.display = "block";
            resultDiv.innerHTML = `
        <div class="payslip-container">
  <h2 style="margin-bottom: 10px;">Payslip</h2>
  <div class="payslip-item">
    <div><strong>PR NO:</strong>001</div>
    <div id="current-date-time">
        </div>
  </div>
  <div class="payslip-item">
    <div><strong>Name:</strong></div>
    <div>${name}</div>
  </div>
  <div class="payslip-item">
    <div><strong>KRA Pin No.:</strong></div>
    <div>${kra}</div>
  </div>
  <div class="payslip-item">
    <div><strong>NSSF No.:</strong></div>
    <div>${nssfNumber}</div>
  </div>
  <div class="payslip-item">
    <div><strong>SHIF No.:</strong></div>
    <div>${shif}</div>
  </div>
  <div class="payslip-item">
    <div><strong>Month:</strong></div>
    <div>${monthInput}</div>
  </div>
  <hr>
  <h6>Earnings</h6>
  <div class="payslip-item">
    <div><strong>BASIC PAY:</strong></div>
    <div>${basicPay.toFixed(2)}</div>
  </div>
  <div class="payslip-item">
    <div><strong>Other allowances</strong></div>
    <div>0.00</div>
  </div>
  <div class="payslip-item">
    <div><strong>Benefits</strong></div>
    <div>0.00</div>
  </div>
<div class="payslip-item">
    <div><strong>Total</strong></div>
    <div>${basicPay.toFixed(2)}</div>
  </div>
  <hr>
  <h6>Less Pre Tax deductions</h6>
   <div class="payslip-item">
    <div><strong>NSSF Contributions</strong></div>
    <div>${nssf.toFixed(2)}</div>
  </div>
   <div class="payslip-item">
    <div><strong>Pension contribution</strong></div>
    <div>0.00</div>
  </div>
   <div class="payslip-item">
    <div><strong>Mortgage Relief</strong></div>
    <div>0.00</div>
  </div>
  <hr>
   <div class="payslip-item">
    <div><strong>Chargeable Pay Kshs:</strong></div>
    <div>${taxablePay.toFixed(2)}</div>
  </div>
<hr>
 <div class="payslip-item">
    <div><strong>Monthly Relief:</strong></div>
    <div>${personalRelief.toFixed(2)}</div>
  </div>
  <div class="payslip-item">
    <div><strong>Insurance Relief: SHIF:</strong></div>
    <div>${shifRelief.toFixed(2)}</div>
  </div>
  <div class="payslip-item">
    <div><strong>Insurance Relief: Other</strong></div>
    <div>0.00</div>
  </div>
  <div class="payslip-item">
    <div><strong>A.H.L Relief: Other</strong></div>
    <div>${housingRelief.toFixed(2)}</div>
  </div>
  <div class="payslip-item">
    <div><strong>Tax Charged</strong></div>
    <div>${incomeTax.toFixed(2)}</div>
  </div>
  <hr>
  <div class="payslip-item">
    <div><strong>Tax Deducted Kshs</strong></div>
    <div>${paye.toFixed(2)}</div>
  </div>
  <hr>
<hr>
 <div class="payslip-item">
    <div><strong>NSSF</strong></div>
    <div>${nssf.toFixed(2)}</div>
  </div>
<div class="payslip-item">
    <div><strong>SHIF</strong></div>
    <div>${nhif.toFixed(2)}</div>
  </div>
  <div class="payslip-item">
    <div><strong>Affordable Housing Levy:</strong></div>
    <div>${housingLevy.toFixed(2)}</div>
  </div>
   <div class="payslip-item">
    <div><strong>Advance</strong></div>
    <div>0.00</div>
  </div>
   <div class="payslip-item">
    <div><strong>Other deductions</strong></div>
    <div>0.00</div>
  </div>
<div class="payslip-item">
    <div><strong>Total deductions</strong></div>
    <div>${totalDeductions.toFixed(2)}</div>
  </div>
  <hr>
  <div class="payslip-item">
    <div><strong>Net Pay:</strong></div>
    <div>${netPay.toFixed(2)}</div>
  </div>
  <hr>
  <div class="payslip-signature">
    <p>I certify that the above information is correct and I have received the payment, in full and final settlement.</p>
    Signature: __________________________
  </div>
</div>

    `;
            // Display the buttons after calculation
            document.getElementById("print-payslip").style.display = "inline-block";
            const actionsDiv = document.getElementById("actions");
            actionsDiv.style.display = "flex";
        }
        function printPayslip() {
            const printContent = document.getElementById("result").innerHTML;
            const originalContent = document.body.innerHTML;

            document.body.innerHTML = `<div>${printContent}</div>`;
            window.print();
            document.body.innerHTML = originalContent;
        }
    </script>

    <script src="https://wingubox.com/landing-pages/lp-0001/assets/js/bootstrap.min.js"></script>
    <script
        src="https://wingubox.com/landing-pages/lp-0001/lib/jquery-parallax/scripts/jquery.parallax-1.1.3.js"></script>
    <script
        src="https://wingubox.com/landing-pages/lp-0001/lib/Magnific-Popup/dist/jquery.magnific-popup.min.js"></script>
    <script src="https://wingubox.com/landing-pages/lp-0001/lib/jquery.mb.YTPlayer/inc/jquery.mb.YTPlayer.js"></script>
    <script src="https://wingubox.com/landing-pages/lp-0001/js/custom.js" type="text/javascript"></script>
    <script type="text/javascript" src="https://wingubox.com/js/bootstrap-daterangepicker/moment.min.js"></script>
    <script type="text/javascript"
        src="https://wingubox.com/js/bootstrap-datetime-picker/bootstrap-datetimepicker.min.js"></script>
    <link rel="stylesheet" type="text/css"
        href="https://wingubox.com/js/bootstrap-datetime-picker/bootstrap-datetimepicker.min.css" />
    <script type="text/javascript">
        $(function () {
            $("#payroll-month").datetimepicker({
                defaultDate: "",
                format: 'MMMM, YYYY'
            });
        });
    </script>
    <input type="hidden" id="submit-token" value="67894da037ad7">
    <script type="text/javascript"
        src="https://wingubox.com/sites-templates/common/js/wb-sites.js-2022032401.php?siteId=30&backLink=../&odPath=../../wingubox.com/html"> </script>
    <input type="hidden" id="http-referer" value="" />
    <script type="text/javascript">
        function formatCurrency(t) { t = t.toString().replace(/\$|\,/g, ""), isNaN(t) && (t = "0"), sign = t == (t = Math.abs(t)), t = Math.floor(100 * t + .50000000001), cents = t % 100, t = Math.floor(t / 100).toString(), cents < 10 && (cents = "0" + cents); for (var r = 0; r < Math.floor((t.length - (1 + r)) / 3); r++)t = t.substring(0, t.length - (4 * r + 3)) + "," + t.substring(t.length - (4 * r + 3)); return (sign ? "" : "-") + t + "." + cents } $(function () { $("#main-inputs input").keyup(function () { var t, r, a = Array(.5, 1, 2, 3, 4), n = parseFloat($("#nae").val().replace(/,/g, "")), o = parseFloat($("#salary").val().replace(/,/g, "")), i = parseFloat($("#yearly-nae-increase").val().replace(/%/g, "")); i /= 100; var l = 0, e = .06; isNaN(o) || isNaN(i) || $("#uel td").not(":first").each(function (c) { var h = c + 2; c > 0 && i && (n += n * i), t = Math.round(n * a[c]), $("#uel td:nth-child(" + h + ") div").html(formatCurrency(t)), r = parseFloat($("#lel td:nth-child(" + h + ")").html().replace(/,/g, "")), effectiveSalary = o > t ? t : o, l = effectiveSalary > r ? r : o, t2Salary = effectiveSalary - l, t2Salary = t2Salary > t ? t : t2Salary, $("#t1-salary td:nth-child(" + h + ")").html(formatCurrency(l)), $("#t2-salary td:nth-child(" + h + ")").html(formatCurrency(t2Salary)), t1Contribution = Math.round(l * e), t2Contribution = Math.round(t2Salary * e), $("#t1-contribution td:nth-child(" + h + ")").html(formatCurrency(t1Contribution)), $("#t2-contribution td:nth-child(" + h + ")").html(formatCurrency(t2Contribution)), totalContribution = t1Contribution + t2Contribution, $("#total-contribution td:nth-child(" + h + ")").html(formatCurrency(totalContribution)); var u = Math.round(totalContribution / o * 100 * 10) / 10; $("#effective-contribution td:nth-child(" + h + ")").html(u + "%") }) }) });
    </script>
</body>

</html>